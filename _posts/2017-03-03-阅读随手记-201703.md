---
title: 阅读随手记 201703
date: 2017-03-03 08:33:19
tags: [微服务, 架构, 消息中间件, 缓存, RPC, 监控, 高性能, 高并发, 高可用]
categories: Reading Record
link_title: reading_record_201703
---
关键字：微服务, 架构, 消息中间件, 缓存, RPC, 监控, 高性能, 高并发, 高可用。
<!-- more -->


###  [Microservices: Decomposing Applications for Deployability and Scalability](https://www.infoq.com/articles/microservices-intro)  Chris Richardson



###  [Pattern: Microservice Architecture](http://microservices.io/patterns/microservices.html) Chris Richardson



###  [Introduction to Microservices](https://www.nginx.com/blog/introduction-to-microservices/) Chris Richardson



###  [Building Microservices: Using an API Gateway](https://www.nginx.com/blog/building-microservices-using-an-api-gateway/) Chris Richardson



###  [Building Microservices: Inter-Process Communication in a Microservices Architecture](https://www.nginx.com/blog/building-microservices-inter-process-communication) Chris Richardson



###  [Service Discovery in a Microservices Architecture](https://www.nginx.com/blog/service-discovery-in-a-microservices-architecture/) Chris Richardson



###  [Event-Driven Data Management for Microservices](https://www.nginx.com/blog/event-driven-data-management-microservices/) Chris Richardson



###  [Choosing a Microservices Deployment Strategy](https://www.nginx.com/blog/deploying-microservices/) Chris Richardson



###  [Refactoring a Monolith into Microservices](https://www.nginx.com/blog/refactoring-a-monolith-into-microservices/) Chris Richardson


### [Fault Tolerance in a High Volume, Distributed System](http://techblog.netflix.com/2012/02/fault-tolerance-in-high-volume.html) Ben Christensen


### [JDK1.8 AbstractQueuedSynchronizer的实现分析](http://www.infoq.com/cn/articles/jdk1.8-abstractqueuedsynchronizer) 刘锟洋



### [从LONGADDER看更高效的无锁实现](http://coolshell.cn/articles/11454.html) jd刘锟洋



### [RxJava2实例解析](http://www.infoq.com/cn/articles/rxjava2-by-example)  Victor Grazi/薛命灯Rays


### [Martin Fowler谈如何理解事件驱动和CQRS](http://mp.weixin.qq.com/s?__biz=MzA5Nzc4OTA1Mw==&mid=2659599045&idx=1&sn=02aee31a7e947626df37165e3484953f) Martin Fowler/薛命灯
原文地址:https://martinfowler.com/articles/201701-event-driven.html



### [Redis的内存优化](https://cachecloud.github.io/2017/02/16/Redis%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/) CacheCloud




### [CQRS](https://martinfowler.com/bliki/CQRS.html) Martin Fowler


### [Event Sourcing](https://martinfowler.com/eaaDev/EventSourcing.html) Martin Fowler


### [Introduction to Event Sourcing and Command-Query Responsibility Segregation](http://squirrel.pl/blog/2015/08/31/introduction-to-event-sourcing-and-command-query-responsibility-segregation/) Konrad Garus



### [浅谈机器学习基础](http://www.jianshu.com/p/ed9ae5385b89) 我偏笑_NSNirvana 
下篇的地址为:http://www.jianshu.com/p/0359e3b7bb1b


### [浅谈深度学习基础](http://www.jianshu.com/p/df9a4473d6d4) 我偏笑_NSNirvana 
下篇的地址为:http://www.jianshu.com/p/3d1ddfce1563




### [大话程序猿眼里的高并发之续篇](https://blog.thankbabe.com/2017/02/27/high-concurrency-scheme-xp/) SFLYQ


### [分布式系列文章——Paxos算法原理与推导](http://linbingdong.com/2017/03/17/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0%E2%80%94%E2%80%94Paxos%E7%AE%97%E6%B3%95%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8E%A8%E5%AF%BC/) linbingdong




### [分布式一致性算法：Raft 算法](http://linbingdong.com/2017/02/19/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%80%E8%87%B4%E6%80%A7%E7%AE%97%E6%B3%95%EF%BC%9ARaft%20%E7%AE%97%E6%B3%95%EF%BC%88Raft%20%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91%EF%BC%89/) linbingdong








### [解决业务代码里的分布式事务一致性问题](https://zhuanlan.zhihu.com/p/25346771) 陶文




### [TensorFlow和Caffe、CNTK、MXNet等其他7种深度学习框架的对比](http://mp.weixin.qq.com/s?__biz=MzA5NzkxMzg1Nw==&mid=2653162065&idx=1&sn=c0f50fe72cb495dc19b9861d3bd5d67f) 黄文坚/唐源




### [微服务与RPC](http://mp.weixin.qq.com/s?__biz=MzI4OTQ3MTI2NA==&mid=2247483731&idx=1&sn=5f32d6a9757a48d0dcdb5921c131e2bd) 凤凰牌老熊






### [CMU论文：一部深度学习发展史，看神经网络兴衰更替](http://mp.weixin.qq.com/s/xNERrFKU4tY3lGmwBIJC9w)  Haohan Wang/Bhiksha Raj/张易




### [北大AI公开课第1讲：雷鸣评人工智能前沿与行业结合点](http://mp.weixin.qq.com/s/UPsHwCqF4MJ1uTAunfza3g) 新智元
视频回放链接：http://www.iqiyi.com/l_19rrf6l46v.html


### [北大AI公开课第2讲：雷鸣&余凯漫谈嵌入式AI](http://mp.weixin.qq.com/s/cl8FMJagC9GZvSIdVAmrJQ) 新智元
视频回放链接：http://www.iqiyi.com/w_19rtza2dh9.html


### [北大AI公开课第3讲：蚂蚁金服漆远 人工智能驱动的金融生活服务](http://mp.weixin.qq.com/s/Sj0jUshXXLCfJsxvoH5eYg) 新智元
视频回放链接：http://www.iqiyi.com/l_19rrfk4wof.html


### [北大AI公开课第4讲：吴甘沙：智能驾驶，有多少AI可以重来](http://mp.weixin.qq.com/s/deWPwaw4IWY4GcC-LK7Ilw) 新智元
视频回放链接：http://www.iqiyi.com/w_19ru020epp.html



### [北大AI公开课第5讲：小米黄江吉 产品化引领人工智能硬件发展](http://mp.weixin.qq.com/s/Wdz0wNSpf_5FWkUOJ-XfEw) 新智元


### [实例化DevOps原则](http://mp.weixin.qq.com/s?__biz=MjM5MjY3OTgwMA==&mid=2652456410&idx=1&sn=e1e54a5b790969e1cd86f70f4d4363db) 伍斌


### [TDD is dead. Long live testing.](http://david.heinemeierhansson.com/2014/tdd-is-dead-long-live-testing.html)  David Heinemeier Hansson

- DHH是Ruby on Rails的创始人，Basecamp公司的创始人和CTO；
- DHH先批判了测试先行的教条主义，虽然它能提升开发人员对软件质量的自信，且对于自动回归测试是有帮助的，但它不应该作为每日工作的教条；而业界近些年来对于TDD的推崇以及对未采用TDD开发的嘲讽更让DHH发火；当DHH多次尝试TDD而发现这会伤害程序的设计时，DHH声明不以TDD的方式开发软件了；
- DHH的建议：重新平衡单元测试和系统测试，减少对于单元测试的重视，将更多的精力投入到系统测试；但千万不要跳入只做系统测试的极端里。

### [Is TDD Dead?](https://martinfowler.com/articles/is-tdd-dead/) Martin Fowler/David Heinemeier Hansson/Kent Beck
视频地址: https://www.youtube.com/watch?v=z9quxZsLcfo



### [让我们再聊聊TDD](http://mp.weixin.qq.com/s/dmreBAzk2Mz94YfkXN8PHg) 刘冉

- 总结一下，技术人员拒绝TDD的主要原因在于难度大、工作量大、Mock的大量使用导致很难测试业务价值等。这些理解主要是建立在片面的理解和实践之上，而在我的认知中，TDD的核心是：**先写测试，并使用它帮助开发人员来驱动软件开发**。
- 首先是先写测试，这里的测试并不只是单元测试，也不是说一定要使用mock和stub来做测试。这里的测试就是指软件测试本身，可以是基于代码单元的单元测试，可以是基于业务需求的功能测试，也可以是基于特定验收条件的验收测试。其次是帮助开发人员，主要是帮助开发人员理解软件的功能需求和验收条件，帮助其思考和设计代码，从而达到驱动开发的目的
- TDD是包含两部分：ATDD（验收驱动测试开发，首先BA或者QA编写验收测试用例，然后Dev通过验收测试来理解需求和验收条件，并编写实现代码直到验收测试用例通过）与UTDD（单元驱动测试开发，首先Dev编写单元测试用例，然后编写实现代码直到单元测试通过）。

![TDD包括ATDD和UTDD](http://mmbiz.qpic.cn/mmbiz_png/aaVJqS7LaMLN7tU0IqFick0jH1uSDLQ5fVd3nXpDRicibEZ3JMjw6CDr0KUk3F1jJ1TmdkcLOaPLQaPUrHZicvRJFQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1)

- TDD不是银弹，不要期望它能解决任何问题，无论是UTDD、EDD还是BDD，根据自己项目的实际情况，比如资金、人力资源、时间、组织架构等，合理的选择。  
- TDD并没有死，死的是你的持续学习、思考、实践与总结。TDD其实早已融入日常的软件开发工作中，只是很多人还没有意识到。

### [让我们再聊聊TDD 续——人人都在做TDD](https://mp.weixin.qq.com/s/tm70lIohbbhlZ50LoFD5HA) 刘冉

- 现实世界中TDD的实施一般分为三个阶段，即无意识的TDD、被动通过技术实现的TDD、以及有意识和主动通过技术实现的TDD。
- 无意识的TDD：当拿到一个新的软件需求时，首先会思考如何实现，其中包括当前软件架构、业务分解、实现设计、代码分层、代码实现等，然后通过思考和设计所得到的产出物来驱动代码实现，进而在代码实现中会思考如何通过一个或多个函数或者算法来实现业务逻辑，这类思考其实已经是意识思维上的TDD，它帮助开发人员先在大脑里面设计并验证代码实现，甚至帮助其重构代码；其实开发人员在开发前思考测试逻辑和用例的过程就是在做TDD了；只不过这是初级的无意识的TDD，没有明确的产出来协助和规范这个测试驱动开发方式，也缺乏快速反馈、度量、传递和协作等；
- 被动通过技术实现TDD：由于意识层面上的难易程度和工作量都比技术层面上相对较小，所以前者实施起来相对容易一些，而后者则相对较难，所以如果通过了各种手段强行实施TDD，而没有主动去摆正做TDD的意识，甚至没有足够的技术能力，那么这样的TDD就是一个倒三角，非常容易倒塌；
- 有意识和主动通过技术实现TDD：首先要突破思维意识的局限，认识到TDD的普遍存在性和适用性，不要害怕和排斥TDD这种思维和开发模式；其次要主动学习，并刻意练习TDD的技术实现，提升自己的技术能力，从而在技术层面能更容易的实现TDD，摆脱被动TDD的困境；只有大量的刻意练习才能让你在真实的代码编写过程中去思考和理解TDD，去运用你通过学习得到的知识，最终才能做到有意识和主动的通过技术去实现TDD，TDD的倒三角才能变成一个稳定的砖块，然后哪里需要往哪里搬。

![TDD](http://mmbiz.qpic.cn/mmbiz_png/aaVJqS7LaMKMVkVm2qvJxgkWcicPgeIgXShj5d81Z98AMXJcfvASJlstibhFHSLDw3tI2XxSMuUSGpDMic3rLTSibg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1)

### [推行TDD的思考](http://mp.weixin.qq.com/s/c2xmaqjD9U07PWX4BMOyZA)  张逸

- 开发人员的质量意识：由开发人员编写测试带来的收益，最重要的一点不在于测试本身，而在于它能促进开发、测试以及需求分析人员的交流与沟通；也能让开发者从消费者角度去思考接口的设计；软件质量除了外部质量之外，内部质量同等重要，维护成本的增加主要归咎于内部质量的糟糕；
- 需求分析与任务分解：TDD要求我们在编写测试之前要做好合理的任务分解。若没有很好地理解需求，任务分解就无法顺利进行；任务分解应该是有层次的，即业务价值——>业务功能——>业务实现；任务分解是TDD的核心，是驱动设计和开发的重要力量；
- 测试先行的编程习惯：任务分解应该是TDD的起点，多数开发者未能形成任务分解的习惯，因此在改变为测试先行的时候，错以为应该一上来就写测试；测试驱动开发仍可进行事先设计，设计并不仅包含技术层面的设计如对OO思想乃至设计模式的运用，它本身还包括对需求的分析与建模；测试驱动开发提倡的任务分解，实际上就是一种需求的分析，如何寻找职责，以及识别职责的承担者则可以视为建模设计；在开始测试驱动开发之前，做适度的事先设计，还有利于我们仔细思考技术实现的解决方案，它与测试驱动接口的设计并不相悖；
- 重构能力：TDD的核心是红——绿——重构，没有好的重构能力，TDD就会有缺失，若说代码的内部质量是生命的话，重构就是灵魂；重构手法与代码坏味道一一对应，若有测试保障，重构就变得安全；重要的是要找到重构的节奏感，即小步前行，每次重构必运行测试的良好习惯；在TDD过程中，若能结对自然是上佳选择，当一个人在掌控键盘时，另一个人就可以重点关注代码的可读性，看看代码是否散发出臭味；
- 单元测试的基础设施：最好能找到一些开源的测试框架，包括生成测试数据，模拟测试行为等，因为你遇到的问题，别人可能早已遇见过。

### [大数据时代的新型数据库 — 图数据库 Neo4j 的应用](http://mp.weixin.qq.com/s?__biz=MzI3MzEzMDI1OQ==&mid=2651816597&idx=1&sn=e061823e2020258a729dcf7498f8aba4) 张帜

- 什么是图数据库：是基于数学里的图论的理论和算法而实现的高效处理复杂关系网络的新型数据库系统，它实际上就是处理关系的、处理网络的数据库系统。图数据库是善于处理大量的、复杂的、互联的、多变的数据，它处理这些数据的效率，远远高于关系型数据库。
- 从数据库的结构来看，它包含的概念非常的简单，他包含的概念只有节点和关系。节点可以带标签，节点和关系也都可以带属性。

![节点、关系和属性](http://mmbiz.qpic.cn/mmbiz_jpg/3xsFRgx4kHrLeb7AhVmAnDeMrVwXM98asCP41iaOpd0dLez09Cv4aK9yfrbT1IcnbOHm1P7iadtwSaAUTBhzeqpA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1)

![创建节点、关系](http://mmbiz.qpic.cn/mmbiz_jpg/3xsFRgx4kHrLeb7AhVmAnDeMrVwXM98aeUtYBEyanQich093rOm4o0HjRsyx6IPs5uq0TXWE0XSvjefZO81Yllw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1)

![查询](http://mmbiz.qpic.cn/mmbiz_jpg/3xsFRgx4kHrLeb7AhVmAnDeMrVwXM98aPQnqgn8hBNeDNLz2NFBlUz8No2KTn27CgZ1iaiayoxq5cKSN8PSPV9ww/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1)

- 为什么要用图数据库：世界本来就是由各种关系组成的；关系型数据库处理复杂关系的时候，建模难、性能低、查询难、扩展难；图数据库它是专门为处理复杂关系而创建出来的，它具有开发的优势和部署的优势。
- Neo4j的关键产品特征：社区版不支持集群，免费；企业版支持集群，是收费的。

![Neo4j的关键产品特征](http://mmbiz.qpic.cn/mmbiz_jpg/3xsFRgx4kHrLeb7AhVmAnDeMrVwXM98ajpQAxkojh6gQpO5NicDiaTgkiaiaYBoboxVGicTN3KPx6Prw3icgBXg1C5NA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1)


### [Apache Spark和Apache Storm的区别](http://mp.weixin.qq.com/s/GgUhOTTbmliGsvdp6qE3OA) fuqingchuan

- Apache Spark是基于内存的分布式数据分析平台，旨在解决快速批处理分析任务、迭代机器学习任务、交互查询以及图处理任务。其最主要的特点在于，Spark使用了RDD或者说弹性分布式数据集。RDD非常适合用于计算的流水线式并行操作。RDD的不变性(immutable)保证，使其具有很好的容错能力。

![Spark架构](http://mmbiz.qpic.cn/mmbiz_png/8y6qG4b7IlKAuicCqd4ODeOibt1TS0XFrVRtG19JexY5T9g7IcUibNMtHRIJzjbpEQmwddqvx7GSoYhxic8D6Ex0RQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1) 

- Apache Storm专注于流处理或者一些调用复杂的事件处理。Storm实现了一种容错方法，用于在事件流入系统时执行计算或流水线化多个计算。人们可以使用Storm在非结构化数据流入系统到期望的格式时对其进行转换。

![Storm架构](http://mmbiz.qpic.cn/mmbiz_png/8y6qG4b7IlKAuicCqd4ODeOibt1TS0XFrVniaOm0DboNBGE137aFpFtCDWkcQtrIn5IXbunp41caucuSXCpECMyDA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1)

- Storm和Spark专注于相当不同的应用场景。对比Storm Trident和Spark Streaming，应该是更加公平的比较。由于Spark的RDD本质上是不可变的，Spark Streaming实现了一种方法，用于在用户定义的时间间隔中“批处理”传入的更新，并将其转换为自己的RDD。 然后Spark通用的并行运算符就可以对这些RDD执行计算。这与Storm处理每个事件不同，Storm是真正的流式处理。
- 总而言之，这两种技术之间的一个主要区别是Spark执行数据并行计算，而Storm执行任务并行计算，这两种设计都是各自领域内的权衡。

### [大数据系统的Lambda架构](http://mp.weixin.qq.com/s?__biz=MzA4NTkwODkyMQ==&mid=208690964&idx=1&sn=03497b08e36f091c4afdf4b30532ea8f) 张逸

- 在大数据处理系统中，如何有效地将real time与batch job结合起来，既发挥前者对响应的实时性，又能解决对海量数据的分析与处理？答案就是Lambda架构思想。
- 传统系统的问题：无法很好地支持系统的可伸缩性；数据库对于分区是不了解的，无法帮助你应对分区、复制与分布式查询；最糟糕的问题是系统并没有为人为错误进行工程设计，仅靠备份是不能治本的；
- 数据系统的概念：如果数据系统通过查找过去的数据去回答问题，则通常需要访问整个数据集。因此可以给data system的最通用的定义：Query = function(all data)
- 一个大数据系统必须具备的属性包括：健壮性和容错性（Robustness和Fault Tolerance）、低延迟的读与更新（Low Latency reads and updates）、可伸缩性（Scalability）、通用性（Generalization）、可扩展性（Extensibility）、内置查询（Ad hoc queries）、维护最小（Minimal maintenance）、可调试性（Debuggability）；
- Lambda架构：主要思想就是将大数据系统构建为多个层次，如下图所示

![Lambda架构分层](http://mmbiz.qpic.cn/mmbiz/d3Qa7X5fakCejz6If7PwqE84e6DhKj3LsYAy0WogdNxlZZCVk6RtBdjvWrkYOgLFaIq5GblDUZvD0BF1ksbaWA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1)

- 理想状态下，任何数据访问都可以从表达式Query = function(all data)开始，但是，若数据达到相当大的一个级别（例如PB），且还需要支持实时查询时，就需要耗费非常庞大的资源。一个解决方式是预运算查询函数（precomputed query funciton）。Mathan Marz将这种预运算查询函数称之为Batch View，当需要执行查询时，可以从Batch View中读取结果。这样一个预先运算好的View是可以建立索引的，因而可以支持随机读取。于是系统就变成：


    batch view = function(all data)
    query = function(batch view)

- Batch Layer：在Lambda架构中，实现batch view = function(all data)的部分被称之为batch layer。它承担了两个职责：
存储Master Dataset，这是一个不变的持续增长的数据集；针对这个Master Dataset进行预运算。利用Batch Layer进行预运算的作用实际上就是将大数据变小，从而有效地利用资源，改善实时查询的性能。
- Serving Layer：Serving Layer负责对batch view进行操作，从而为最终的实时查询提供支撑。因此Serving Layer的职责包含：对batch view的随机访问；更新batch view。Serving Layer应该是一个专用的分布式数据库，以支持对batch view的加载、随机读取以及更新。注意，它并不支持对batch view的随机写，因为随机写会为数据库引来许多复杂性。
- Speed Layer：从对数据的处理来看，speed layer与batch layer非常相似，它们之间最大的区别是前者只处理最近的数据，后者则要处理所有的数据。另一个区别是为了满足最小的延迟，speed layer并不会在同一时间读取所有的新数据，相反，它会在接收到新数据时，更新realtime view，而不会像batch layer那样重新运算整个view。speed layer是一种增量的计算，而非重新运算（recomputation）。因而，Speed Layer的作用包括：对更新到serving layer带来的高延迟的一种补充；快速、增量的算法；最终Batch Layer会覆盖speed layer；
- 总结下来，Lambda架构就是如下的三个等式：


    batch view = function(all data)
    realtime view = function(realtime view, new data)
    query = function(batch view . realtime view)

整个Lambda架构如下图所示：

![Lambda架构](http://mmbiz.qpic.cn/mmbiz/d3Qa7X5fakCejz6If7PwqE84e6DhKj3LxUnITFzls4Vzdzo0okkC97nMrOQtg83MBXVwD3BExm2zicd1AlJlcoA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1)


### [Lambda架构与推荐在电商网站实践](http://mp.weixin.qq.com/s?__biz=MzAwMDU1MTE1OQ==&mid=401800864&idx=1&sn=e86e31a4aa6279f5b515f9116da47d59) 王富平 

- Lambda架构：Lambda架构由Storm的作者Nathan Marz提出。旨在设计出一个能满足实时大数据系统关键特性的架构，具有高容错、低延时和可扩展等特性。Lambda架构整合离线计算和实时计算，融合不可变性（Immutability）、读写分离和复杂性隔离等一系列架构原则，可集成Hadoop、Kafka、Storm、Spark、HBase等各类大数据组件。
- Lambda有两个假设：不可变假设（Lambda架构要求data不可变）、Monoid假设（理想情况下满足Monoid 的function可以转换为 query = function(all data/ 2) + function(all data/ 2)）；
- Lambda三层架构：批处理层（批量处理数据，生成离线结果）、实时处理层（实时处理在线数据，生成增量结果）、服务层（结合离线、在线计算结果，推送上层）；

![Lambda三层架构](http://mmbiz.qpic.cn/mmbiz/8XkvNnTiapONibSkm2GM78fSeyNicjYLiaS4KLn4NnjP1tN9xKmiapauPIKMw9EW4Nu6N18W2DlDVWUQu2RxU7ljWkA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1)

- Lambda架构缺点：Lambda需要将所有的算法实现两次，一次是为批处理系统，另一次是为实时系统，还要求查询得到的是两个系统结果的合并。考虑到将复杂算法正确地实现一次都是一个挑战，执行两次这样的任务以及调试不可避免的问题显然是难上加难。除此之外，运维两个分布式多节点的服务肯定比运维一个更难。【参加http://www.infoq.com/cn/news/2014/09/lambda-architecture-questions】
- 推荐系统的最终目的是提高转化率，手段是推送用户感兴趣的、需要的产品。1号店会根据你实时浏览、加车、收藏、从购物车删除、下单等行为，计算相关产品的权重，把相应的产品立刻更新到猜你喜欢栏位。
- Netflix推荐架构：批处理层（从Hive、pig数据仓库，离线计算推荐模型，生成离线推荐结果）、实时处理层（从消息队列实时拉取用户行为数据与事件，生成在线推荐结果）、服务层（结合离线、在线推荐结果，为用户生成推荐列表）；

![Netflix推荐架构](http://mmbiz.qpic.cn/mmbiz/8XkvNnTiapONibSkm2GM78fSeyNicjYLiaS4uGGpcicBjCDXz90x0gib9Z6A1flicrwFmicyTt3DyvDpS3t3Ub5uu4OjKw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1)

- 1号店推荐系统实践：推荐引擎组件包括用户意图、用户画像、千人千面、情境推荐、反向推荐、主题推荐；

![1号店推荐系统实践](http://mmbiz.qpic.cn/mmbiz/8XkvNnTiapONibSkm2GM78fSeyNicjYLiaS4FYPdPln0wy1kLaxOKPc6geibsjAkVNgWbvHr5gt1pib07OqvWMF10lBQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1)

### [技术的边界](http://www.ruanyifeng.com/blog/2017/03/boundary.html) 阮一峰

- 当代社会就像一座机器组成的监狱，学会技术可以摆脱牢房。
- 我们理应享受技术成果，问题是，技术正变得越来越先进，也越来越难懂，大多数人已经不能够理解技术了。
- 技术已经到了这样一个地步：我们走一步看一步，谁也不知道十年后，技术会突破到什么程度。
- 我最近常想，技术有没有边界呢？一旦接近"绝境长城"，我们会自觉停在那里，不再往下发展吗？举例来说，人工智能领域有一个概念，叫做"终极智能"。意思是，当机器的智能达到这种程度时，就不需要人类再做发明创造了，因为机器自己就会发明创造。如果这种"终极智能"真的可能实现，技术要不要去实现它呢？
- 一个依赖技术的高科技、高度自动化的社会，也是一个非常脆弱的社会。整个人类正坐在一架软件驾驶的飞机里面，只能祈祷软件运行永远不发生错误。一旦发生问题，人类就会坠机。
